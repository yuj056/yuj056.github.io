![alt text](https://github.com/yuj056/yuj056.github.io/blob/master/_posts/Screen%20Shot%202018-06-12%20at%2010.51.39%20AM.png)
# Second period of work
## 1. The work done in the first period
First let's quickly review what I implemented in the first period of work. The governing equations and algebraic constraints are derived for the 1D plug flow with surface chemistry. SiF4 and NH3 isothermal reactions are used to varify the computational model, where nonlinear equation solver and IDA solver are used to calculate the initial values at the entrance of the tube and determine the variables vary along the the flow direction, respectively. The problem I stuck last time is that the IDA solver cannot be convergent.
## 2. Problem shooting
Therefore, the goal for this period of work is obvious that I need to figure out the reasons lead to the solver divergent. After the Skype call with my mentors to discuss the problem in my code at the beginning of the second period of work, I was suggested that: 1. use a one step adsorption reaction to check the IDA solver 2. do not use `advance_to_coverage` to calculate the site fraction inside the residual function, solving the trasient site fraction equation and getting the steady state site fraction inside the residual function instead. 
### 2.1 One step  adsorption reaction
H2O (g) + O (s) = H2O (s) is selected as our one step adsorption mechanism to do the further simulation, where H2O (g) represents the gas phase water (know as water vapor), the O (s) means the empty site in the surface and the H2O (s) stands for the adsorped water as a surface species. After determining the short mechanism, a cti file for the reaction need to be created as the input file of cantera.interface and cantera.gas. The [cti file](https://github.com/yuj056/yuj056.github.io/blob/master/model/small_mec.cti) is shown as follows:
![alt text](https://github.com/yuj056/yuj056.github.io/blob/master/_posts/cti.png)
## 2.2 Use IDA solver to calculate transient site fraction equation
To calculate the site fraction in each location of the tube at steady state, we can use the following differential equation and algebraic constraints:
![alt text](https://github.com/yuj056/yuj056.github.io/blob/master/_posts/eq.png)
where the s<sub>k
